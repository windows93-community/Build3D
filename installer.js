/*>>> FAXMACHINE <<<*/

var application_base64 = "PGh0bWw+CiAgPGhlYWQ+CiAgICA8IS0tIEkndmUgZW5jb3VudGVyZWQgc29tZSBwcm9ibGVtcyB3aXRoIGxvYWRpbmcgQ1NTIGZyb20gcmF3IGdpdGhhY2sgc28gSSdsbCBqdXN0IGxlYXZlIGl0IGxpa2UgdGhpcyBmb3IgYSBzaG9ydCBwZXJpb2Qgb2YgdGltZSAtLT4KICAgIDxzdHlsZT4KICAgICAgYm9keSB7CiAgICAgICAgbWFyZ2luOiAwOwogICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgfQoKICAgICAgLmhlYWRidXQgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNDQ0M7CiAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgZm9udC1zaXplOiA4OwogICAgICAgIHBhZGRpbmc6IDVweDsKICAgICAgICBoZWlnaHQ6IDE2cHg7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7CiAgICAgIH0KCiAgICAgIC5oZWFkYnV0OmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogIzA0RjsgY29sb3I6IEZGRiB9CgogICAgICAuc2xpZHNldHRpbmcgewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICBsZWZ0OiAxMDBweDsKICAgICAgfQoKICAgICAgLnNsaWRfY29udGFpbmVyIHsKICAgICAgICBtYXJnaW4tdG9wOiA1cHg7CiAgICAgIH0KCiAgICAgIC5zZXR0aW5nX2NvbnRhaW5lciB7CiAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47CiAgICAgICAgd2lkdGg6IDQ3NnB4OwogICAgICAgIGhlaWdodDogMjA1cHg7CiAgICAgICAgbWFyZ2luLXRvcDogMnB4OwogICAgICAgIG1hcmdpbi1sZWZ0OiA0cHg7CiAgICAgIH0KCiAgICAgIC5vcHRfY29udGFpbmVyIHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjQ0NDQ0NDOwogICAgICAgIGhlaWdodDogMTZweDsKICAgICAgfQoKICAgICAgLmJvZHlfY29udGFpbmVyIHsKICAgICAgICB3aWR0aDogNDg0cHg7CiAgICAgICAgaGVpZ2h0OiA3MjBweDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjQUFBQUFBOwogICAgICAgIG1hcmdpbjogMDsKICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgcGFkZGluZzogLTVweAogICAgICB9CgogICAgICAjdm94ZWxzY3JlZW4gewogICAgICAgIHdpZHRoOiA0ODBweDsKICAgICAgICBoZWlnaHQ6IDQ4MHB4OwogICAgICAgIGJvcmRlcjogMnB4IGluc2V0OwogICAgICB9CiAgICA8L3N0eWxlPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwOi8vd2luZG93czkzLm5ldC9jL3N5cy9za2lucy93OTMuY3NzP3Y9Mi4zLjgiPgogIDwvaGVhZD4KICA8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImJvZHlfY29udGFpbmVyIj4KICAgICAgPGRpdiBjbGFzcz0ib3B0X2NvbnRhaW5lciI+CiAgICAgICAgPHNwYW4gaWQ9InNhdmUiIGNsYXNzPSJoZWFkYnV0Ij5TQVZFPC9zcGFuPgogICAgICAgIDxzcGFuIGlkPSJvcGVuIiBjbGFzcz0iaGVhZGJ1dCI+T1BFTjwvc3Bhbj4KICAgICAgICA8c3BhbiBpZD0iaGVscCIgY2xhc3M9ImhlYWRidXQiPkhFTFA8L3NwYW4+CgogICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjogZ3JheSI+JiMxNjA7JiMxNjA7JiMxNjA7PC9zcGFuPgoKICAgICAgICA8c3BhbiBpZD0icGxhaW4iIGNsYXNzPSJoZWFkYnV0Ij5QTEFJTjwvc3Bhbj4KICAgICAgICA8c3BhbiBpZD0idm9pZCIgY2xhc3M9ImhlYWRidXQiPlRIRSBWT0lEPC9zcGFuPgogICAgICAgIDxzcGFuIGlkPSJjb2xvciIgY2xhc3M9ImhlYWRidXQiPkNPTE9SIEhBQ0tFUjwvc3Bhbj4KICAgICAgPC9kaXY+CiAgICAgIDxjYW52YXMgd2lkdGg9IjQ4MCIgaGVpZ2h0PSI0ODAiIGlkPSJ2b3hlbHNjcmVlbiI+PC9jYW52YXM+CiAgICAgIDxkaXYgY2xhc3M9InNldHRpbmdfY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkX2NvbnRhaW5lciI+CiAgICAgICAgICA8c3Bhbj4gRElTVDogPC9zcGFuPiA8aW5wdXQgdHlwZT0icmFuZ2UiIG1heD0iNiIgdmFsdWU9IjIiIHN0ZXA9IjAuMSIgaWQ9ImRpc3QiIGNsYXNzPSJzbGlkc2V0dGluZyIgc3R5bGU9IndpZHRoOiAzNjBweCI+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ic2xpZF9jb250YWluZXIiPgogICAgICAgICAgPHNwYW4+IFktUE9TOiA8L3NwYW4+IDxpbnB1dCB0eXBlPSJyYW5nZSIgbWF4PSIxNiIgdmFsdWU9IjAiIGlkPSJ5cG9zIiBjbGFzcz0ic2xpZHNldHRpbmciIHN0eWxlPSJ3aWR0aDogMzYwcHgiPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InNsaWRfY29udGFpbmVyIj4KICAgICAgICAgIDxzcGFuPiBNT1VTRTogPC9zcGFuPiA8aW5wdXQgdHlwZT0icmFuZ2UiIG1heD0iMzAiIHZhbHVlPSIxMCIgaWQ9Im1vdXNlIiBjbGFzcz0ic2xpZHNldHRpbmciIHN0eWxlPSJ3aWR0aDogMzYwcHgiPgogICAgICAgIDwvZGl2PgogICAgICAgIDxicj4KICAgICAgICA8aHI+CiAgICAgICAgPGNlbnRlcj4KICAgICAgICAgIDxkaXYgaWQ9ImNvbG9ycyI+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPC9jZW50ZXI+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9yYXdjZG4uZ2l0aGFjay5jb20vd2luZG93czkzLWNvbW11bml0eS9CdWlsZDNELzYzNDFiMDJhODMyODk4NjE3YmZjYTJhNWEzZTM3OTE3ZTM0NDUwZWYvZW5naW5lLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL3Jhd2Nkbi5naXRoYWNrLmNvbS93aW5kb3dzOTMtY29tbXVuaXR5L0J1aWxkM0QvODhmZDgwYzRkOGNlODdlMWIxM2MxM2IwYTAxZWFlNTc1YzZjODg3OS9jb2xvcnMuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vcmF3Y2RuLmdpdGhhY2suY29tL3dpbmRvd3M5My1jb21tdW5pdHkvQnVpbGQzRC82MzQxYjAyYTgzMjg5ODYxN2JmY2EyYTVhM2UzNzkxN2UzNDQ1MGVmL21haW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vcmF3Y2RuLmdpdGhhY2suY29tL3dpbmRvd3M5My1jb21tdW5pdHkvQnVpbGQzRC82MzQxYjAyYTgzMjg5ODYxN2JmY2EyYTVhM2UzNzkxN2UzNDQ1MGVmL2FwcC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0PgogICAgICB2YXIgY29sb3JzX2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xvcnMnKTsgLy8gcGxhY2UgY29sb3IgYnV0dG9ucyB0aGVyZQoKICAgICAgZm9yKHZhciBpIGluIG5hbWVjb2xvcikgewogICAgICAgIHZhciBjb2xvciA9IG5hbWVjb2xvcltpXTsKICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICBlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjsKICAgICAgICBlbC5vbmNsaWNrID0gZXZhbCgnXz0+IHRpbGVfY29sb3IzZCA9IGdldENvbG9yKCInICsgY29sb3IgKyAnIiknKTsKICAgICAgICBlbC5pbm5lckhUTUwgPSAiJiMxNjA7Ii5yZXBlYXQoMSk7CiAgICAgICAgY29sb3JzX2Rpdi5hcHBlbmRDaGlsZChlbCk7CiAgICAgIH0KICAgIDwvc2NyaXB0PgogIDwvYm9keT4KPC9odG1sPgo=";
var application_init = "bGUuX2FwcHNbIkJ1aWxkM0QiXSA9IHsKICBuYW1lOiAiM0RCdWlsZGVyIiwKICBjYXRoZWdvcmllczogIkdyYXBoaWNzIiwKICBpY29uOiAiL2MvZmlsZXMvaW1hZ2VzL2ljb25zL2JvbWIucG5nIiwKICBleGVjOiAoKT0+ICRleGUoImlmcmFtZSAvYS9ldGMvM0RCdWlsZGVyL2FwcC5odG1sIC0td2lkdGg9NDg0IC0tLWhlaWdodD02NDAgLS1pY29uPS9jL2ZpbGVzL2ltYWdlcy9pY29ucy9ib21iLnBuZyIpCn0=";

/* create files and folders */

$db.set("etc/3DBuilder/models/README.txt", "You can save your models here.");
$db.set("etc/3DBuilder/app.html", atob(application_base64));
$db.set("boot/Build3D_init.js", atob(application_init));
localStorage.setItem('desktop/Build3D.lnk42', '{"exe":"Build3D"}');

$alert("Press OK to restart.", function() {$exe("reboot")})
